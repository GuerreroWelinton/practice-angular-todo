<div class="min-h-screen w-full flex items-center justify-center p-6">
  <form [formGroup]="registrationForm" (ngSubmit)="registerUser()">
    <div
      class="bg-neutral-900 p-8 md:p-12 shadow-sm rounded-2xl w-full max-w-sm mx-auto flex flex-col gap-8"
    >
      <div class="flex flex-col items-center gap-4">
        <div class="flex flex-col items-center gap-2 w-full">
          <div class="text-2xl font-semibold leading-tight text-center w-full">
            Welcome to Splitty
            <span class="text-4xl">ðŸ‘½</span>
          </div>
        </div>
      </div>
      <div class="flex flex-col gap-6 w-full">
        <div class="flex flex-col gap-2 w-full">
          <label for="username" class="font-medium leading-normal"> Username</label>
          <input
            pInputText
            autocomplete="off"
            id="username"
            formControlName="username"
            type="text"
            class="w-full px-3 shadow-sm rounded-lg"
          />

          @if (
            registrationForm.get('username')?.invalid &&
            (registrationForm.get('username')?.dirty ||
              registrationForm.get('username')?.touched ||
              formSubmitted())
          ) {
            <p-message severity="error" size="small" variant="simple">
              @if (registrationForm.get('username')?.errors?.['required']) {
                Username is required
              } @else if (registrationForm.get('username')?.errors?.['minlength']) {
                Username must be at least 3 characters
              }
            </p-message>
          }
        </div>
      </div>
      <button
        pButton
        class="w-full py-2 rounded-lg flex justify-center items-center gap-2"
        type="submit"
        [disabled]="isLoading()"
      >
        @if (isLoading()) {
          <i pButtonIcon class="pi pi-spin pi-spinner-dotted text-2xl"></i>
        } @else {
          <span pButtonLabel>Go to my space</span>
        }
      </button>
    </div>
  </form>
</div>
